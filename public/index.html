<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Data Loss Prevention</title>

        <script src="https://apis.google.com/js/api.js"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <!--<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>-->
        <script src="https://code.jquery.com/jquery-3.1.1.min.js">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        
        <script charset="ISO-8859-1" src="mean.js"></script>
    </head>

    <body>
    <center>
        <h4 class="text-primary">Teste-API Data Loss Prevention</h4>
    </center>
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Dicionário de palavras</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Processamento</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="messages-tab" data-toggle="tab" href="#messages" role="tab" aria-controls="messages" aria-selected="false">Resultado</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="settings-tab" data-toggle="tab" href="#settings" role="tab" aria-controls="settings" aria-selected="false">Configurações</a>
           
            
        </li>
    </ul>
    <!-- Tab panes -->
    <div class="tab-content">
        <div class="tab-pane active" id="home" role="tabpanel" aria-labelledby="home-tab">
            <div class="jumbotron text-center">
                <div class="row">
                    <div class='col-md-6'> 
                        <label>Lista de palavras a ser incluída</label> 
                        <textarea class="form-control" id='text-dicionario' style='height: 250px;'>
                        </textarea> 
                    </div>
                    <div class='col-md-6'> 
                        <label>Lista de  palavras a ser ignoradas</label> 
                        <textarea class="form-control" id='exclude-Word' style ="height: 250px;">
                        </textarea>
                    </div>
                     <div class="col-md-6">
                         <br>
                         <div class='col-md-12'>
    <button onclick="loadPalavrasProtection()" style="" class='btn btn-primary'>Carregar Lista</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- processamento de imagens-->
        <div class="tab-pane" id="profile" role="tabpanel" aria-labelledby="profile-tab">
            <center>
                <div class="jumbotron text-center">
                    <h5>desidentificar dados confidenciais</h5>
                    <div class="row">
                        <div class="col-md-6 ">
                            <h5>Imagem Original</h5>
                            <img src="ef3-placeholder-image.jpg" id='imagem' class=""></p>
                        </div>
                        <div class="col-md-6 ">
                            <h5>Imagem Editada</h5>
                            <img src="ef3-placeholder-image.jpg" id='imagemResult' class=""></p>
                        </div>
                    </div>
                    <center>
                        <br>
                        <div id='spinner' style='

                             display: flex;
                             flex-direction: row;
                             flex-wrap: wrap;
                             justify-content: center;
                             '>
                            <img  src="spinner.gif" alt="Minha Figura" style='display:none'  id='img-spinner'>
                        </div>
                    </center>
                </div>
                <div class="row">
                    <div class='col-md-6'>
                        <!-- <input type="file" id="fileImagem"	  name="fileImagem" />-->
                        <!--https://www.html5rocks.com/pt/tutorials/file/dndfiles/-->
                        <input type="file" id="fileImagem" name="files[]" multiple />
                        <output id="list">

                        </output>

        <script>
        function handleFileSelect(evt) {
                    var files = evt.target.files; // FileList object
            // files is a FileList of File objects. List some properties.
            var output = [];
            for (var i = 0, f; f = files[i]; i++) {
            output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
                    f.size, ' bytes, ultima modificação: ',
                    f.lastModifiedDate.toLocaleDateString(), '</li>');
        }
        base64($('input[type="file"]'), function (data) {
                    var imagem = 'data:image/jpeg;base64,' + data.base64;
            $("#imagem").attr('src', imagem);
        });
        document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
    }
        document.getElementById('fileImagem').addEventListener('change', handleFileSelect, false);
</script>
                    </div>
                    <div class="col-md-6">
<button onclick="loadClient()" style="" class='btn btn-primary'>Executar</button>
                    </div>
                </div>
            </center>
        </div>

        <!-- resultado  final--> 
        <div class="tab-pane" id="messages" role="tabpanel" aria-labelledby="messages-tab">
          
            <center>
          Listar as fotos processada aqui...
          
          
          
           <div class="col-md-3 div-img" >
                            <h5>nome do arquivo</h5>
							<div id='lista-imagem' class='col-md-3'>
                            
                            </div>
							</p>
          </div>
          
          </center>
        </div>

        <div class="tab-pane" id="settings" role="tabpanel" aria-labelledby="settings-tab">
             <br>
             <br>
             <br>
               <center>
               <input type="checkbox">
                Salvar imagens altomáticamente
               </center>
            

        </div>
    </div>

    <style>
        .div-img{
            width:80%;
            height: 90%;
            border: solid 1px silver;
            max-height: 1024px;
            max-width:700%;

        }

        #imagem{

            width:80%;
            height: 90%;

            max-height: 1024px;
            max-width:700%;
        }
        #imagemResult{

            width:80%;
            height: 90%;

            max-height: 1024px;
            max-width:700%;
        }



        #exTab1 .tab-content {
            color : white;
            background-color: #428bca;
            padding : 5px 15px;
        }

        #exTab2 h3 {
            color : white;
            background-color: #428bca;
            padding : 5px 15px;
        }

        /* remove border radius for the tab */

        #exTab1 .nav-pills > li > a {
            border-radius: 0;
        }

        /* change border radius for the tab , apply corners on top*/

        #exTab3 .nav-pills > li > a {
            border-radius: 4px 4px 0 0 ;
        }

        #exTab3 .tab-content {
            color : white;
            background-color: #428bca;
            padding : 5px 15px;
        }
    </style>

    <!--
    <output id="list"></output>
    <script>
      function handleFileSelect(evt) {
        var files = evt.target.files; // FileList object
        // Loop through the FileList and render image files as thumbnails.
        for (var i = 0, f; f = files[i]; i++) {
    
          // Only process image files.
          if (!f.type.match('image.*')) {
            continue;
          }
    
          var reader = new FileReader();
    
          // Closure to capture the file information.
          reader.onload = (function(theFile) {
            return function(e) {
              // Render thumbnail.
              var span = document.createElement('span');
              span.innerHTML = ['<img class="thumb" src="', e.target.result,
                                '" title="', escape(theFile.name), '"/>'].join('');
              document.getElementById('list').insertBefore(span, null);
            };
          })(f);
          // Read in the image file as a data URL.
          reader.readAsDataURL(f);
        }
      }
      document.getElementById('files').addEventListener('change', handleFileSelect, false);-->

    <!--<button onclick="execute()">execute 2 </button>-->

</body>
<script>
            gapi.load("client");
            function result(data) {
                        return data;
            }
            //encode_base64('ddr.jpg');
            //decode_base64('any_base64_string_goes_here', 'rane.jpg');
            
            
        
        
</script>
